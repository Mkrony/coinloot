import React, { createContext, useContext, useState } from "react";
import Modal from "../component/modal/ModalPopup.jsx"; // Adjust the import as necessary

const ModalContext = createContext();

export const useModal = () => useContext(ModalContext);

export const ModalProvider = ({ children }) => {
    const [isModalOpen, setIsModalOpen] = useState(false);
    const [modalContent, setModalContent] = useState(null);

    const openModal = (content) => {
        setModalContent(content);
        setIsModalOpen(true);
        document.body.style.overflow = 'hidden';
    };

    const closeModal = () => {
        setIsModalOpen(false);
        document.body.style.overflow = 'auto';
    };

    return (
        <ModalContext.Provider value={{ openModal, closeModal }}>
            {children}
            {isModalOpen && (
                <Modal isOpen={isModalOpen} onClose={closeModal} title="Important Information">
                    {modalContent}
                    <button onClick={closeModal} className="close-modal-btn">Close</button>
                </Modal>
            )}
        </ModalContext.Provider>
    );
};
